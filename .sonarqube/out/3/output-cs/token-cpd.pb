¡"
|C:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\AcademicLevelConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal		 
class			 &
AcademicLevelConfiguration		 )
:		* +$
IEntityTypeConfiguration		, D
<		D E
AcademicLevel		E R
>		R S
{

 
public 

void 
	Configure 
( 
EntityTypeBuilder +
<+ ,
AcademicLevel, 9
>9 :
builder; B
)B C
{ 
builder 
. 
Property 
( 
e 
=> 
e 
.  
Code  $
)$ %
.% &
HasMaxLength& 2
(2 3
$num3 5
)5 6
;6 7
builder 
. 
Property 
( 
e 
=> 
e 
.  
Name  $
)$ %
. 
HasConversion 
( 
e 
=> 
e  !
!! "
." #
Value# (
,( )
value* /
=>0 2
new3 6
Name7 ;
(; <
value< A
)A B
)B C
. 
HasMaxLength 
( 
$num 
) 
; 
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
! 
. 
Value 
, 
value 
=> 
new 
Id 
( 
value !
)! "
)" #
;# $
builder 
. 
Property 
( 
e 
=> 
e 
.  
CreatedDate  +
)+ ,
., -
HasConversion- :
(: ;
CreatedDate 
=> 
CreatedDate &
!& '
.' (
Value( -
,- .
value 
=> 
CreatedDate  
.  !
CreationDate! -
(- .
). /
)/ 0
;0 1
builder 
. 
Property 
( 
e 
=> 
e 
.  
LastModifiedDate  0
)0 1
.1 2
HasConversion2 ?
(? @
LastModifiedDate 
=> 
LastModifiedDate  0
!0 1
.1 2
Value2 7
,7 8
value 
=> 
LastModifiedDate %
.% &
CreationDate& 2
(2 3
)3 4
)4 5
;5 6
builder!! 
.!! 
Property!! 
(!! 
e!! 
=>!! 
e!! 
.!!  
Availability!!  ,
)!!, -
."" 
HasConversion"" 
("" 
e## 
=>## 
e## 
!## 
.## 
Value## 
,## 
value$$ 
=>$$ 
new$$ 
Availability$$ %
($$% &
value$$& +
)$$+ ,
)$$, -
;$$- .
builder&& 
.&& 
Property&& 
(&& 
e&& 
=>&& 
e&& 
.&&  
CreatedByUser&&  -
)&&- .
.&&. /

IsRequired&&/ 9
(&&9 :
false&&: ?
)&&? @
;&&@ A
builder'' 
.'' 
Property'' 
('' 
e'' 
=>'' 
e'' 
.''  
LastModifiedByUser''  2
)''2 3
.''3 4

IsRequired''4 >
(''> ?
false''? D
)''D E
;''E F
})) 
}** û#
‚C:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\AcademicProgramUserConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal 
class	 ,
 AcademicProgramUserConfiguration /
:0 1$
IEntityTypeConfiguration2 J
<J K
AcademicProgramUserK ^
>^ _
{		 
public

 

void

 
	Configure

 
(

 
EntityTypeBuilder

 +
<

+ ,
AcademicProgramUser

, ?
>

? @
builder

A H
)

H I
{ 
builder 
. 
HasOne 
( 
d 
=> 
d 
. '
IdAcademicProgramNavigation 9
)9 :
.: ;
WithMany; C
(C D
pD E
=>F H
pI J
.J K 
AcademicProgramUsersK _
)_ `
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
IdAcademicProgram" 3
)3 4
;4 5
builder 
. 
HasOne 
( 
d 
=> 
d 
. 
IdUserNavigation .
). /
./ 0
WithMany0 8
(8 9
p9 :
=>; =
p> ?
.? @ 
AcademicProgramUsers@ T
)T U
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
IdUser" (
)( )
;) *
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
! 
. 
Value 
, 
value 
=> 
new 
Id 
( 
value !
)! "
)" #
;# $
builder 
. 
Property 
( 
e 
=> 
e 
.  
CreatedDate  +
)+ ,
., -
HasConversion- :
(: ;
CreatedDate 
=> 
CreatedDate &
!& '
.' (
Value( -
,- .
value 
=> 
CreatedDate  
.  !
CreationDate! -
(- .
). /
)/ 0
;0 1
builder 
. 
Property 
( 
e 
=> 
e 
.  
LastModifiedDate  0
)0 1
.1 2
HasConversion2 ?
(? @
LastModifiedDate 
=> 
LastModifiedDate  0
!0 1
.1 2
Value2 7
,7 8
value 
=> 
LastModifiedDate %
.% &
CreationDate& 2
(2 3
)3 4
)4 5
;5 6
builder   
.   
Property   
(   
e   
=>   
e   
.    
Availability    ,
)  , -
.!! 
HasConversion!! 
(!! 
e"" 
=>"" 
e"" 
!"" 
."" 
Value"" 
,"" 
value## 
=>## 
new## 
Availability## %
(##% &
value##& +
)##+ ,
)##, -
;##- .
builder%% 
.%% 
Property%% 
(%% 
e%% 
=>%% 
e%% 
.%%  
CreatedByUser%%  -
)%%- .
.%%. /

IsRequired%%/ 9
(%%9 :
false%%: ?
)%%? @
;%%@ A
builder&& 
.&& 
Property&& 
(&& 
e&& 
=>&& 
e&& 
.&&  
LastModifiedByUser&&  2
)&&2 3
.&&3 4

IsRequired&&4 >
(&&> ?
false&&? D
)&&D E
;&&E F
}(( 
})) ‘6
C:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\AcademicsProgramConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal		 
class			 )
AcademicsProgramConfiguration		 ,
:		- .$
IEntityTypeConfiguration		/ G
<		G H
AcademicProgram		H W
>		W X
{

 
public 

void 
	Configure 
( 
EntityTypeBuilder +
<+ ,
AcademicProgram, ;
>; <
builder= D
)D E
{ 
builder 
. 
Property 
( 
e 
=> 
e 
.  
Code  $
)$ %
.% &
HasMaxLength& 2
(2 3
$num3 5
)5 6
;6 7
builder 
. 
Property 
( 
e 
=> 
e 
.  
Modality  (
)( )
.) *
HasMaxLength* 6
(6 7
$num7 9
)9 :
;: ;
builder 
. 
Property 
( 
e 
=> 
e 
.  
Name  $
)$ %
. 
HasConversion 
( 
e 
=> 
e  !
!! "
." #
Value# (
,( )
value* /
=>0 2
new3 6
Name7 ;
(; <
value< A
)A B
)B C
. 
HasMaxLength 
( 
$num 
) 
; 
builder 
. 
Property 
( 
e 
=> 
e 
.  
ProgramStatus  -
)- .
.. /
HasMaxLength/ ;
(; <
$num< >
)> ?
;? @
builder 
. 
HasOne 
( 
d 
=> 
d 
. (
IdAcademicDirectorNavigation :
): ;
.; <
WithMany< D
(D E
pE F
=>G I
pJ K
.K L
AcademicsProgramsL ]
)] ^
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
IdAcademicDirector" 4
)4 5
. 
OnDelete 
( 
DeleteBehavior $
.$ %
ClientSetNull% 2
)2 3
;3 4
builder 
. 
HasOne 
( 
d 
=> 
d 
. %
IdAcademicLevelNavigation 7
)7 8
.8 9
WithMany9 A
(A B
pB C
=>D F
pG H
.H I
AcademicsProgramsI Z
)Z [
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
IdAcademicLevel" 1
)1 2
. 
OnDelete 
( 
DeleteBehavior $
.$ %
ClientSetNull% 2
)2 3
;3 4
builder 
. 
HasOne 
( 
d 
=> 
d 
. #
IdInstitutionNavigation 5
)5 6
.6 7
WithMany7 ?
(? @
p@ A
=>B D
pE F
.F G
AcademicsProgramsG X
)X Y
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
IdInstitution" /
)/ 0
.   
OnDelete   
(   
DeleteBehavior   $
.  $ %
ClientSetNull  % 2
)  2 3
;  3 4
builder## 
.## 
HasKey## 
(## 
x## 
=>## 
x## 
.## 
Id##  
)##  !
;##! "
builder$$ 
.$$ 
Property$$ 
($$ 
e$$ 
=>$$ 
e$$ 
.$$  
Id$$  "
)$$" #
.$$# $
HasConversion$$$ 1
($$1 2
e%% 
=>%% 
e%% 
!%% 
.%% 
Value%% 
,%% 
value&& 
=>&& 
new&& 
Id&& 
(&& 
value&& !
)&&! "
)&&" #
;&&# $
builder(( 
.(( 
Property(( 
((( 
e(( 
=>(( 
e(( 
.((  
CreatedDate((  +
)((+ ,
.((, -
HasConversion((- :
(((: ;
CreatedDate)) 
=>)) 
CreatedDate)) &
!))& '
.))' (
Value))( -
,))- .
value** 
=>** 
CreatedDate**  
.**  !
CreationDate**! -
(**- .
)**. /
)**/ 0
;**0 1
builder,, 
.,, 
Property,, 
(,, 
e,, 
=>,, 
e,, 
.,,  
LastModifiedDate,,  0
),,0 1
.,,1 2
HasConversion,,2 ?
(,,? @
LastModifiedDate-- 
=>-- 
LastModifiedDate--  0
!--0 1
.--1 2
Value--2 7
,--7 8
value.. 
=>.. 
LastModifiedDate.. %
...% &
CreationDate..& 2
(..2 3
)..3 4
)..4 5
;..5 6
builder00 
.00 
Property00 
(00 
e00 
=>00 
e00 
.00  
Availability00  ,
)00, -
.11 
HasConversion11 
(11 
e22 
=>22 
e22 
!22 
.22 
Value22 
,22 
value33 
=>33 
new33 
Availability33 %
(33% &
value33& +
)33+ ,
)33, -
;33- .
builder55 
.55 
Property55 
(55 
e55 
=>55 
e55 
.55  
CreatedByUser55  -
)55- .
.55. /

IsRequired55/ 9
(559 :
false55: ?
)55? @
;55@ A
builder66 
.66 
Property66 
(66 
e66 
=>66 
e66 
.66  
LastModifiedByUser66  2
)662 3
.663 4

IsRequired664 >
(66> ?
false66? D
)66D E
;66E F
}88 
}99 ¯%
wC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\CategoryConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal 
class	 !
CategoryConfiguration $
:% &$
IEntityTypeConfiguration' ?
<? @
Category@ H
>H I
{		 
public

 

void

 
	Configure

 
(

 
EntityTypeBuilder

 +
<

+ ,
Category

, 4
>

4 5
builder

6 =
)

= >
{ 
HasQueryFilter 
( 
builder 
) 
;  
builder 
. 
Property 
( 
e 
=> 
e 
.  
Description  +
)+ ,
., -
HasMaxLength- 9
(9 :
$num: =
)= >
;> ?
builder 
. 
Property 
( 
e 
=> 
e 
.  
Name  $
)$ %
.% &
HasMaxLength& 2
(2 3
$num3 5
)5 6
;6 7
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
! 
. 
Value 
, 
value 
=> 
new 
Id 
( 
value !
)! "
)" #
;# $
builder 
. 
Property 
( 
e 
=> 
e 
.  
CreatedDate  +
)+ ,
., -
HasConversion- :
(: ;
CreatedDate 
=> 
CreatedDate &
!& '
.' (
Value( -
,- .
value 
=> 
CreatedDate  
.  !
CreationDate! -
(- .
). /
)/ 0
;0 1
builder 
. 
Property 
( 
e 
=> 
e 
.  
LastModifiedDate  0
)0 1
.1 2
HasConversion2 ?
(? @
LastModifiedDate 
=> 
LastModifiedDate  0
!0 1
.1 2
Value2 7
,7 8
value 
=> 
LastModifiedDate %
.% &
CreationDate& 2
(2 3
)3 4
)4 5
;5 6
builder 
. 
Property 
( 
e 
=> 
e 
.  
Availability  ,
), -
.- .
HasConversion. ;
(; <
e   
=>   
e   
!   
.   
Value   
,   
value!! 
=>!! 
new!! 
Availability!! %
(!!% &
value!!& +
)!!+ ,
)!!, -
;!!- .
builder## 
.## 
Property## 
(## 
e## 
=>## 
e## 
.##  
CreatedByUser##  -
)##- .
.##. /

IsRequired##/ 9
(##9 :
false##: ?
)##? @
;##@ A
builder$$ 
.$$ 
Property$$ 
($$ 
e$$ 
=>$$ 
e$$ 
.$$  
LastModifiedByUser$$  2
)$$2 3
.$$3 4

IsRequired$$4 >
($$> ?
false$$? D
)$$D E
;$$E F
}&& 
private(( 
static(( 
void(( 
HasQueryFilter(( &
(((& '
EntityTypeBuilder)) 
<)) 
Category)) "
>))" #
builder))$ +
)))+ ,
{** 
builder++ 
.,, 
HasQueryFilter,, 
(,, 
e,, 
=>,,  
e,,! "
.,," #
Availability,,# /
!,,/ 0
.-- 
Equals-- 
(-- 
new-- 
Availability-- $
(--$ %
true--% )
)--) *
)--* +
)--+ ,
;--, -
}.. 
}// Ê,
wC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\ColombiaConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
public 
class !
ColombiaConfiguration "
:# $$
IEntityTypeConfiguration% =
<= >
Colombia> F
>F G
{		 
public

 

void

 
	Configure

 
(

 
EntityTypeBuilder

 +
<

+ ,
Colombia

, 4
>

4 5
builder

6 =
)

= >
{ 
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
. 
Value 
, 
value 
=> 
new 
Id 
( 
value !
)! "
)" #
;# $
builder 
. 
Property 
( 
e 
=> 
e 
.  
Region  &
)& '
. 
HasMaxLength 
( 
$num 
) 
. 

IsRequired 
( 
) 
; 
builder 
. 
Property 
( 
e 
=> 
e 
.  
DepartmentCode  .
). /
. 

IsRequired 
( 
) 
; 
builder 
. 
Property 
( 
e 
=> 
e 
.  

Department  *
)* +
. 
HasMaxLength 
( 
$num 
) 
. 

IsRequired 
( 
) 
; 
builder 
. 
Property 
( 
e 
=> 
e 
.  
CityCode  (
)( )
. 

IsRequired 
( 
) 
; 
builder 
. 
Property 
( 
e 
=> 
e 
.  
City  $
)$ %
.   
HasMaxLength   
(   
$num   
)   
.!! 

IsRequired!! 
(!! 
)!! 
;!! 
builder$$ 
.$$ 
HasKey$$ 
($$ 
x$$ 
=>$$ 
x$$ 
.$$ 
Id$$  
)$$  !
;$$! "
builder%% 
.%% 
Property%% 
(%% 
e%% 
=>%% 
e%% 
.%%  
Id%%  "
)%%" #
.%%# $
HasConversion%%$ 1
(%%1 2
e&& 
=>&& 
e&& 
!&& 
.&& 
Value&& 
,&& 
value'' 
=>'' 
new'' 
Id'' 
('' 
value'' !
)''! "
)''" #
;''# $
builder)) 
.)) 
Property)) 
()) 
e)) 
=>)) 
e)) 
.))  
CreatedDate))  +
)))+ ,
.)), -
HasConversion))- :
()): ;
CreatedDate** 
=>** 
CreatedDate** &
!**& '
.**' (
Value**( -
,**- .
value++ 
=>++ 
CreatedDate++  
.++  !
CreationDate++! -
(++- .
)++. /
)++/ 0
;++0 1
builder-- 
.-- 
Property-- 
(-- 
e-- 
=>-- 
e-- 
.--  
LastModifiedDate--  0
)--0 1
.--1 2
HasConversion--2 ?
(--? @
LastModifiedDate.. 
=>.. 
LastModifiedDate..  0
!..0 1
...1 2
Value..2 7
,..7 8
value// 
=>// 
LastModifiedDate// %
.//% &
CreationDate//& 2
(//2 3
)//3 4
)//4 5
;//5 6
builder11 
.11 
Property11 
(11 
e11 
=>11 
e11 
.11  
Availability11  ,
)11, -
.22 
HasConversion22 
(22 
e33 
=>33 
e33 
!33 
.33 
Value33 
,33 
value44 
=>44 
new44 
Availability44 %
(44% &
value44& +
)44+ ,
)44, -
;44- .
builder66 
.66 
Property66 
(66 
e66 
=>66 
e66 
.66  
CreatedByUser66  -
)66- .
.66. /

IsRequired66/ 9
(669 :
false66: ?
)66? @
;66@ A
builder77 
.77 
Property77 
(77 
e77 
=>77 
e77 
.77  
LastModifiedByUser77  2
)772 3
.773 4

IsRequired774 >
(77> ?
false77? D
)77D E
;77E F
}99 
}:: Õ8
yC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\CourseNoteConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal 
class	 #
CourseNoteConfiguration &
:' ($
IEntityTypeConfiguration) A
<A B

CourseNoteB L
>L M
{		 
public

 

void

 
	Configure

 
(

 
EntityTypeBuilder

 +
<

+ ,

CourseNote

, 6
>

6 7
builder

8 ?
)

? @
{ 
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
! 
. 
Value 
, 
value 
=> 
new 
Id 
( 
value !
)! "
)" #
;# $
builder 
. 
Property 
( 
e 
=> 
e 
.  
NoteDate  (
)( )
.) *
HasColumnType* 7
(7 8
$str8 >
)> ?
;? @
builder 
. 
Property 
( 
e 
=> 
e 
.  
	NoteValue  )
)) *
.* +
HasColumnType+ 8
(8 9
$str9 I
)I J
;J K
builder 
. 
Property 
( 
e 
=> 
e 
.  
Percentages  +
)+ ,
., -
HasColumnType- :
(: ;
$str; K
)K L
;L M
builder 
. 
HasOne 
( 
d 
=> 
d 
. 
IdSubjectNavigation 1
)1 2
.2 3
WithMany3 ;
(; <
p< =
=>> @
pA B
.B C
CourseNotesC N
)N O
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
	IdSubject" +
)+ ,
. 
OnDelete 
( 
DeleteBehavior $
.$ %
ClientSetNull% 2
)2 3
. 
HasConstraintName 
( 
$str 8
)8 9
;9 :
builder 
. 
HasOne 
( 
d 
=> 
d 
. 
IdTeacherNavigation 1
)1 2
.2 3
WithMany3 ;
(; <
p< =
=>> @
pA B
.B C*
CourseNoteIdTeacherNavigationsC a
)a b
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
	IdTeacher" +
)+ ,
. 
OnDelete 
( 
DeleteBehavior $
.$ %
ClientSetNull% 2
)2 3
. 
HasConstraintName 
( 
$str 7
)7 8
;8 9
builder 
. 
HasOne 
( 
d 
=> 
d 
. 
IdUserNavigation .
). /
./ 0
WithMany0 8
(8 9
p9 :
=>; =
p> ?
.? @'
CourseNoteIdUserNavigations@ [
)[ \
.   
HasForeignKey   
(   
d   
=>   
d    !
.  ! "
IdUser  " (
)  ( )
.!! 
OnDelete!! 
(!! 
DeleteBehavior!! $
.!!$ %
ClientSetNull!!% 2
)!!2 3
."" 
HasConstraintName"" 
("" 
$str"" 4
)""4 5
;""5 6
builder%% 
.%% 
HasKey%% 
(%% 
x%% 
=>%% 
x%% 
.%% 
Id%%  
)%%  !
;%%! "
builder&& 
.&& 
Property&& 
(&& 
e&& 
=>&& 
e&& 
.&&  
Id&&  "
)&&" #
.&&# $
HasConversion&&$ 1
(&&1 2
e'' 
=>'' 
e'' 
!'' 
.'' 
Value'' 
,'' 
value(( 
=>(( 
new(( 
Id(( 
((( 
value(( !
)((! "
)((" #
;((# $
builder** 
.** 
Property** 
(** 
e** 
=>** 
e** 
.**  
CreatedDate**  +
)**+ ,
.**, -
HasConversion**- :
(**: ;
CreatedDate++ 
=>++ 
CreatedDate++ &
!++& '
.++' (
Value++( -
,++- .
value,, 
=>,, 
CreatedDate,,  
.,,  !
CreationDate,,! -
(,,- .
),,. /
),,/ 0
;,,0 1
builder.. 
... 
Property.. 
(.. 
e.. 
=>.. 
e.. 
...  
LastModifiedDate..  0
)..0 1
...1 2
HasConversion..2 ?
(..? @
LastModifiedDate// 
=>// 
LastModifiedDate//  0
!//0 1
.//1 2
Value//2 7
,//7 8
value00 
=>00 
LastModifiedDate00 %
.00% &
CreationDate00& 2
(002 3
)003 4
)004 5
;005 6
builder22 
.22 
Property22 
(22 
e22 
=>22 
e22 
.22  
Availability22  ,
)22, -
.33 
HasConversion33 
(33 
e44 
=>44 
e44 
!44 
.44 
Value44 
,44 
value55 
=>55 
new55 
Availability55 %
(55% &
value55& +
)55+ ,
)55, -
;55- .
builder77 
.77 
Property77 
(77 
e77 
=>77 
e77 
.77  
CreatedByUser77  -
)77- .
.77. /

IsRequired77/ 9
(779 :
false77: ?
)77? @
;77@ A
builder88 
.88 
Property88 
(88 
e88 
=>88 
e88 
.88  
LastModifiedByUser88  2
)882 3
.883 4

IsRequired884 >
(88> ?
false88? D
)88D E
;88E F
}:: 
};; Œ.
zC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\InstitutionConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal		 
class			 $
InstitutionConfiguration		 '
:		( )$
IEntityTypeConfiguration		* B
<		B C
Institution		C N
>		N O
{

 
public 

void 
	Configure 
( 
EntityTypeBuilder +
<+ ,
Institution, 7
>7 8
builder9 @
)@ A
{ 
builder 
. 
Property 
( 
e 
=> 
e 
.  
Address  '
)' (
.( )
HasMaxLength) 5
(5 6
$num6 9
)9 :
;: ;
builder 
. 
Property 
( 
e 
=> 
e 
.  
City  $
)$ %
.% &
HasMaxLength& 2
(2 3
$num3 5
)5 6
;6 7
builder 
. 
Property 
( 
e 
=> 
e 
.  
CityCode  (
)( )
. 
HasMaxLength 
( 
$num 
) 
. 
IsFixedLength 
( 
) 
; 
builder 
. 
Property 
( 
e 
=> 
e 
.  

Department  *
)* +
.+ ,
HasMaxLength, 8
(8 9
$num9 ;
); <
;< =
builder 
. 
Property 
( 
e 
=> 
e 
.  
DepartmentCode  .
). /
. 
HasMaxLength 
( 
$num 
) 
. 
IsFixedLength 
( 
) 
; 
builder 
. 
Property 
( 
e 
=> 
e 
.  
Email  %
)% &
.& '
HasMaxLength' 3
(3 4
$num4 6
)6 7
;7 8
builder 
. 
Property 
( 
e 
=> 
e 
.  
Name  $
)$ %
. 
HasConversion 
( 
e 
=> 
e  !
!! "
." #
Value# (
,( )
value* /
=>0 2
new3 6
Name7 ;
(; <
value< A
)A B
)B C
. 
HasMaxLength 
( 
$num 
) 
; 
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
! 
. 
Value 
, 
value   
=>   
new   
Id   
(   
value   !
)  ! "
)  " #
;  # $
builder"" 
."" 
Property"" 
("" 
e"" 
=>"" 
e"" 
.""  
CreatedDate""  +
)""+ ,
."", -
HasConversion""- :
("": ;
CreatedDate## 
=>## 
CreatedDate## &
!##& '
.##' (
Value##( -
,##- .
value$$ 
=>$$ 
CreatedDate$$  
.$$  !
CreationDate$$! -
($$- .
)$$. /
)$$/ 0
;$$0 1
builder&& 
.&& 
Property&& 
(&& 
e&& 
=>&& 
e&& 
.&&  
LastModifiedDate&&  0
)&&0 1
.&&1 2
HasConversion&&2 ?
(&&? @
LastModifiedDate'' 
=>'' 
LastModifiedDate''  0
!''0 1
.''1 2
Value''2 7
,''7 8
value(( 
=>(( 
LastModifiedDate(( %
.((% &
CreationDate((& 2
(((2 3
)((3 4
)((4 5
;((5 6
builder** 
.** 
Property** 
(** 
e** 
=>** 
e** 
.**  
Availability**  ,
)**, -
.++ 
HasConversion++ 
(++ 
e,, 
=>,, 
e,, 
!,, 
.,, 
Value,, 
,,, 
value-- 
=>-- 
new-- 
Availability-- %
(--% &
value--& +
)--+ ,
)--, -
;--- .
builder// 
.// 
Property// 
(// 
e// 
=>// 
e// 
.//  
CreatedByUser//  -
)//- .
.//. /

IsRequired/// 9
(//9 :
false//: ?
)//? @
;//@ A
builder00 
.00 
Property00 
(00 
e00 
=>00 
e00 
.00  
LastModifiedByUser00  2
)002 3
.003 4

IsRequired004 >
(00> ?
false00? D
)00D E
;00E F
}22 
}33 ‚&
wC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\ScheduleConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal 
class	 !
ScheduleConfiguration $
:% &$
IEntityTypeConfiguration' ?
<? @
Schedule@ H
>H I
{		 
public

 

void

 
	Configure

 
(

 
EntityTypeBuilder

 +
<

+ ,
Schedule

, 4
>

4 5
builder

6 =
)

= >
{ 
builder 
. 
Property 
( 
e 
=> 
e 
.  
EndTime  '
)' (
.( )
HasColumnType) 6
(6 7
$str7 =
)= >
;> ?
builder 
. 
Property 
( 
e 
=> 
e 
.  
	StartTime  )
)) *
.* +
HasColumnType+ 8
(8 9
$str9 ?
)? @
;@ A
builder 
. 
Property 
( 
e 
=> 
e 
.  
Weekday  '
)' (
.( )
HasMaxLength) 5
(5 6
$num6 8
)8 9
;9 :
builder 
. 
HasOne 
( 
d 
=> 
d 
. '
IdAcademicProgramNavigation 9
)9 :
.: ;
WithMany; C
(C D
pD E
=>F H
pI J
.J K
	SchedulesK T
)T U
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
IdAcademicProgram" 3
)3 4
;4 5
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
! 
. 
Value 
, 
value 
=> 
new 
Id 
( 
value !
)! "
)" #
;# $
builder 
. 
Property 
( 
e 
=> 
e 
.  
CreatedDate  +
)+ ,
., -
HasConversion- :
(: ;
CreatedDate 
=> 
CreatedDate &
!& '
.' (
Value( -
,- .
value 
=> 
CreatedDate  
.  !
CreationDate! -
(- .
). /
)/ 0
;0 1
builder 
. 
Property 
( 
e 
=> 
e 
.  
LastModifiedDate  0
)0 1
.1 2
HasConversion2 ?
(? @
LastModifiedDate 
=> 
LastModifiedDate  0
!0 1
.1 2
Value2 7
,7 8
value 
=> 
LastModifiedDate %
.% &
CreationDate& 2
(2 3
)3 4
)4 5
;5 6
builder!! 
.!! 
Property!! 
(!! 
e!! 
=>!! 
e!! 
.!!  
Availability!!  ,
)!!, -
."" 
HasConversion"" 
("" 
e## 
=>## 
e## 
!## 
.## 
Value## 
,## 
value$$ 
=>$$ 
new$$ 
Availability$$ %
($$% &
value$$& +
)$$+ ,
)$$, -
;$$- .
builder&& 
.&& 
Property&& 
(&& 
e&& 
=>&& 
e&& 
.&&  
CreatedByUser&&  -
)&&- .
.&&. /

IsRequired&&/ 9
(&&9 :
false&&: ?
)&&? @
;&&@ A
builder'' 
.'' 
Property'' 
('' 
e'' 
=>'' 
e'' 
.''  
LastModifiedByUser''  2
)''2 3
.''3 4

IsRequired''4 >
(''> ?
false''? D
)''D E
;''E F
})) 
}** ¤$
vC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\SubjectConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal		 
class			  
SubjectConfiguration		 #
:		$ %$
IEntityTypeConfiguration		& >
<		> ?
Subject		? F
>		F G
{

 
public 

void 
	Configure 
( 
EntityTypeBuilder +
<+ ,
Subject, 3
>3 4
builder5 <
)< =
{ 
builder 
. 
Property 
( 
e 
=> 
e 
.  
Modality  (
)( )
.) *
HasMaxLength* 6
(6 7
$num7 9
)9 :
;: ;
builder 
. 
Property 
( 
e 
=> 
e 
.  
Name  $
)$ %
. 
HasConversion 
( 
e 
=> 
e  !
!! "
." #
Value# (
,( )
value* /
=>0 2
new3 6
Name7 ;
(; <
value< A
)A B
)B C
. 
HasMaxLength 
( 
$num 
) 
; 
builder 
. 
Property 
( 
e 
=> 
e 
.  
PreRequisite  ,
), -
.- .
HasMaxLength. :
(: ;
$num; =
)= >
;> ?
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
! 
. 
Value 
, 
value 
=> 
new 
Id 
( 
value !
)! "
)" #
;# $
builder 
. 
Property 
( 
e 
=> 
e 
.  
CreatedDate  +
)+ ,
., -
HasConversion- :
(: ;
CreatedDate 
=> 
CreatedDate &
!& '
.' (
Value( -
,- .
value 
=> 
CreatedDate  
.  !
CreationDate! -
(- .
). /
)/ 0
;0 1
builder 
. 
Property 
( 
e 
=> 
e 
.  
LastModifiedDate  0
)0 1
.1 2
HasConversion2 ?
(? @
LastModifiedDate   
=>   
LastModifiedDate    0
!  0 1
.  1 2
Value  2 7
,  7 8
value!! 
=>!! 
LastModifiedDate!! %
.!!% &
CreationDate!!& 2
(!!2 3
)!!3 4
)!!4 5
;!!5 6
builder## 
.## 
Property## 
(## 
e## 
=>## 
e## 
.##  
Availability##  ,
)##, -
.$$ 
HasConversion$$ 
($$ 
e%% 
=>%% 
e%% 
!%% 
.%% 
Value%% 
,%% 
value&& 
=>&& 
new&& 
Availability&& %
(&&% &
value&&& +
)&&+ ,
)&&, -
;&&- .
builder(( 
.(( 
Property(( 
((( 
e(( 
=>(( 
e(( 
.((  
CreatedByUser((  -
)((- .
.((. /

IsRequired((/ 9
(((9 :
false((: ?
)((? @
;((@ A
builder)) 
.)) 
Property)) 
()) 
e)) 
=>)) 
e)) 
.))  
LastModifiedByUser))  2
)))2 3
.))3 4

IsRequired))4 >
())> ?
false))? D
)))D E
;))E F
}++ 
},, ³&
†C:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\SubjectsAcademicProgramConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal 
class	 0
$SubjectsAcademicProgramConfiguration 3
:4 5$
IEntityTypeConfiguration6 N
<N O'
SubjectOfTheAcademicProgramO j
>j k
{		 
public

 

void

 
	Configure

 
(

 
EntityTypeBuilder

 +
<

+ ,'
SubjectOfTheAcademicProgram

, G
>

G H
builder

I P
)

P Q
{ 
builder 
. 
HasOne 
( 
d 
=> 
d 
. '
IdAcademicProgramNavigation 9
)9 :
.: ;
WithMany; C
(C D
pD E
=>F H
pI J
.J K$
SubjectsAcademicProgramsK c
)c d
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
IdAcademicProgram" 3
)3 4
. 
OnDelete 
( 
DeleteBehavior $
.$ %
ClientSetNull% 2
)2 3
;3 4
builder 
. 
HasOne 
( 
d 
=> 
d 
. 
IdSubjectNavigation 1
)1 2
.2 3
WithMany3 ;
(; <
p< =
=>> @
pA B
.B C$
SubjectsAcademicProgramsC [
)[ \
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
	IdSubject" +
)+ ,
. 
OnDelete 
( 
DeleteBehavior $
.$ %
ClientSetNull% 2
)2 3
;3 4
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
! 
. 
Value 
, 
value 
=> 
new 
Id 
( 
value !
)! "
)" #
;# $
builder 
. 
Property 
( 
e 
=> 
e 
.  
CreatedDate  +
)+ ,
., -
HasConversion- :
(: ;
CreatedDate 
=> 
CreatedDate &
!& '
.' (
Value( -
,- .
value 
=> 
CreatedDate  
.  !
CreationDate! -
(- .
). /
)/ 0
;0 1
builder 
. 
Property 
( 
e 
=> 
e 
.  
LastModifiedDate  0
)0 1
.1 2
HasConversion2 ?
(? @
LastModifiedDate 
=> 
LastModifiedDate  0
!0 1
.1 2
Value2 7
,7 8
value   
=>   
LastModifiedDate   %
.  % &
CreationDate  & 2
(  2 3
)  3 4
)  4 5
;  5 6
builder"" 
."" 
Property"" 
("" 
e"" 
=>"" 
e"" 
.""  
Availability""  ,
)"", -
.## 
HasConversion## 
(## 
e$$ 
=>$$ 
e$$ 
!$$ 
.$$ 
Value$$ 
,$$ 
value%% 
=>%% 
new%% 
Availability%% %
(%%% &
value%%& +
)%%+ ,
)%%, -
;%%- .
builder'' 
.'' 
Property'' 
('' 
e'' 
=>'' 
e'' 
.''  
CreatedByUser''  -
)''- .
.''. /

IsRequired''/ 9
(''9 :
false'': ?
)''? @
;''@ A
builder(( 
.(( 
Property(( 
((( 
e(( 
=>(( 
e(( 
.((  
LastModifiedByUser((  2
)((2 3
.((3 4

IsRequired((4 >
(((> ?
false((? D
)((D E
;((E F
}** 
}++ ¬#
{C:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\SubjectValueConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal 
class	 %
SubjectValueConfiguration (
:) *$
IEntityTypeConfiguration+ C
<C D
SubjectValueD P
>P Q
{		 
public

 

void

 
	Configure

 
(

 
EntityTypeBuilder

 +
<

+ ,
SubjectValue

, 8
>

8 9
builder

: A
)

A B
{ 
builder 
. 
Property 
( 
e 
=> 
e 
.  
Year  $
)$ %
. 
HasMaxLength 
( 
$num 
) 
. 
IsFixedLength 
( 
) 
; 
builder 
. 
HasOne 
( 
d 
=> 
d 
. 
IdSubjectNavigation 1
)1 2
.2 3
WithMany3 ;
(; <
p< =
=>> @
pA B
.B C
SubjectValuesC P
)P Q
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
	IdSubject" +
)+ ,
. 
OnDelete 
( 
DeleteBehavior $
.$ %
ClientSetNull% 2
)2 3
;3 4
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
! 
. 
Value 
, 
value 
=> 
new 
Id 
( 
value !
)! "
)" #
;# $
builder 
. 
Property 
( 
e 
=> 
e 
.  
CreatedDate  +
)+ ,
., -
HasConversion- :
(: ;
CreatedDate 
=> 
CreatedDate &
!& '
.' (
Value( -
,- .
value 
=> 
CreatedDate  
.  !
CreationDate! -
(- .
). /
)/ 0
;0 1
builder 
. 
Property 
( 
e 
=> 
e 
.  
LastModifiedDate  0
)0 1
.1 2
HasConversion2 ?
(? @
LastModifiedDate 
=> 
LastModifiedDate  0
!0 1
.1 2
Value2 7
,7 8
value   
=>   
LastModifiedDate   %
.  % &
CreationDate  & 2
(  2 3
)  3 4
)  4 5
;  5 6
builder"" 
."" 
Property"" 
("" 
e"" 
=>"" 
e"" 
.""  
Availability""  ,
)"", -
.## 
HasConversion## 
(## 
e$$ 
=>$$ 
e$$ 
!$$ 
.$$ 
Value$$ 
,$$ 
value%% 
=>%% 
new%% 
Availability%% %
(%%% &
value%%& +
)%%+ ,
)%%, -
;%%- .
builder'' 
.'' 
Property'' 
('' 
e'' 
=>'' 
e'' 
.''  
CreatedByUser''  -
)''- .
.''. /

IsRequired''/ 9
(''9 :
false'': ?
)''? @
;''@ A
builder(( 
.(( 
Property(( 
((( 
e(( 
=>(( 
e(( 
.((  
LastModifiedByUser((  2
)((2 3
.((3 4

IsRequired((4 >
(((> ?
false((? D
)((D E
;((E F
}** 
}++ ä%
}C:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\UserAssignmentConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal 
class	 '
UserAssignmentConfiguration *
:+ ,$
IEntityTypeConfiguration- E
<E F
UserAssignmentF T
>T U
{		 
public

 

void

 
	Configure

 
(

 
EntityTypeBuilder

 +
<

+ ,
UserAssignment

, :
>

: ;
builder

< C
)

C D
{ 
builder 
. 
Property 
( 
e 
=> 
e 
.  
SubjectStatus  -
)- .
.. /
HasMaxLength/ ;
(; <
$num< >
)> ?
;? @
builder 
. 
HasOne 
( 
d 
=> 
d 
. 
IdSubjectNavigation 1
)1 2
.2 3
WithMany3 ;
(; <
p< =
=>> @
pA B
.B C
UserAssignmentsC R
)R S
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
	IdSubject" +
)+ ,
;, -
builder 
. 
HasOne 
( 
d 
=> 
d 
. 
IdUserNavigation .
). /
./ 0
WithMany0 8
(8 9
p9 :
=>; =
p> ?
.? @
UserAssignments@ O
)O P
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
IdUser" (
)( )
;) *
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
! 
. 
Value 
, 
value 
=> 
new 
Id 
( 
value !
)! "
)" #
;# $
builder 
. 
Property 
( 
e 
=> 
e 
.  
CreatedDate  +
)+ ,
., -
HasConversion- :
(: ;
CreatedDate 
=> 
CreatedDate &
!& '
.' (
Value( -
,- .
value 
=> 
CreatedDate  
.  !
CreationDate! -
(- .
). /
)/ 0
;0 1
builder 
. 
Property 
( 
e 
=> 
e 
.  
LastModifiedDate  0
)0 1
.1 2
HasConversion2 ?
(? @
LastModifiedDate 
=> 
LastModifiedDate  0
!0 1
.1 2
Value2 7
,7 8
value   
=>   
LastModifiedDate   %
.  % &
CreationDate  & 2
(  2 3
)  3 4
)  4 5
;  5 6
builder"" 
."" 
Property"" 
("" 
e"" 
=>"" 
e"" 
.""  
Availability""  ,
)"", -
.## 
HasConversion## 
(## 
e$$ 
=>$$ 
e$$ 
!$$ 
.$$ 
Value$$ 
,$$ 
value%% 
=>%% 
new%% 
Availability%% %
(%%% &
value%%& +
)%%+ ,
)%%, -
;%%- .
builder'' 
.'' 
Property'' 
('' 
e'' 
=>'' 
e'' 
.''  
CreatedByUser''  -
)''- .
.''. /

IsRequired''/ 9
(''9 :
false'': ?
)''? @
;''@ A
builder(( 
.(( 
Property(( 
((( 
e(( 
=>(( 
e(( 
.((  
LastModifiedByUser((  2
)((2 3
.((3 4

IsRequired((4 >
(((> ?
false((? D
)((D E
;((E F
}** 
}++ Ä#
{C:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\UserCategoryConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal 
class	 %
UserCategoryConfiguration (
:) *$
IEntityTypeConfiguration+ C
<C D
UserCategoryD P
>P Q
{		 
public

 

void

 
	Configure

 
(

 
EntityTypeBuilder

 +
<

+ ,
UserCategory

, 8
>

8 9
builder

: A
)

A B
{ 
builder 
. 
HasOne 
( 
d 
=> 
d 
.  
IdCategoryNavigation 2
)2 3
.3 4
WithMany4 <
(< =
p= >
=>? A
pB C
.C D
UserCategoriesD R
)R S
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "

IdCategory" ,
), -
;- .
builder 
. 
HasOne 
( 
d 
=> 
d 
. 
IdUserNavigation .
). /
./ 0
WithMany0 8
(8 9
p9 :
=>; =
p> ?
.? @
UserCategories@ N
)N O
. 
HasForeignKey 
( 
d 
=> 
d  !
.! "
IdUser" (
)( )
;) *
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
! 
. 
Value 
, 
value 
=> 
new 
Id 
( 
value !
)! "
)" #
;# $
builder 
. 
Property 
( 
e 
=> 
e 
.  
CreatedDate  +
)+ ,
., -
HasConversion- :
(: ;
CreatedDate 
=> 
CreatedDate &
!& '
.' (
Value( -
,- .
value 
=> 
CreatedDate  
.  !
CreationDate! -
(- .
). /
)/ 0
;0 1
builder 
. 
Property 
( 
e 
=> 
e 
.  
LastModifiedDate  0
)0 1
.1 2
HasConversion2 ?
(? @
LastModifiedDate 
=> 
LastModifiedDate  0
!0 1
.1 2
Value2 7
,7 8
value 
=> 
LastModifiedDate %
.% &
CreationDate& 2
(2 3
)3 4
)4 5
;5 6
builder   
.   
Property   
(   
e   
=>   
e   
.    
Availability    ,
)  , -
.!! 
HasConversion!! 
(!! 
e"" 
=>"" 
e"" 
!"" 
."" 
Value"" 
,"" 
value## 
=>## 
new## 
Availability## %
(##% &
value##& +
)##+ ,
)##, -
;##- .
builder%% 
.%% 
Property%% 
(%% 
e%% 
=>%% 
e%% 
.%%  
CreatedByUser%%  -
)%%- .
.%%. /

IsRequired%%/ 9
(%%9 :
false%%: ?
)%%? @
;%%@ A
builder&& 
.&& 
Property&& 
(&& 
e&& 
=>&& 
e&& 
.&&  
LastModifiedByUser&&  2
)&&2 3
.&&3 4

IsRequired&&4 >
(&&> ?
false&&? D
)&&D E
;&&E F
}(( 
})) ¨7
sC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Configurations\UserConfiguration.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Configurations2 @
;@ A
internal 
class	 
UserConfiguration  
:! "$
IEntityTypeConfiguration# ;
<; <
User< @
>@ A
{		 
public

 

void

 
	Configure

 
(

 
EntityTypeBuilder

 +
<

+ ,
User

, 0
>

0 1
builder

2 9
)

9 :
{ 
builder 
. 
Property 
( 
e 
=> 
e 
.  
	Birthdate  )
)) *
.* +
HasColumnType+ 8
(8 9
$str9 ?
)? @
;@ A
builder 
. 
Property 
( 
e 
=> 
e 
.  
	CellPhone  )
)) *
.* +
HasMaxLength+ 7
(7 8
$num8 :
): ;
;; <
builder 
. 
Property 
( 
e 
=> 
e 
.  
DocumentNumber  .
). /
./ 0
HasMaxLength0 <
(< =
$num= ?
)? @
;@ A
builder 
. 
Property 
( 
e 
=> 
e 
.  
DocumentType  ,
), -
.- .
HasMaxLength. :
(: ;
$num; =
)= >
;> ?
builder 
. 
Property 
( 
e 
=> 
e 
.  
Email  %
)% &
.& '
HasMaxLength' 3
(3 4
$num4 7
)7 8
.8 9
	IsUnicode9 B
(B C
)C D
;D E
builder 
. 
Property 
( 
e 
=> 
e 
.  
	FirstName  )
)) *
.* +
HasMaxLength+ 7
(7 8
$num8 :
): ;
;; <
builder 
. 
Property 
( 
e 
=> 
e 
.  
Phone  %
)% &
.& '
HasMaxLength' 3
(3 4
$num4 6
)6 7
;7 8
builder 
. 
Property 
( 
e 
=> 
e 
.  

SecondName  *
)* +
.+ ,
HasMaxLength, 8
(8 9
$num9 ;
); <
;< =
builder 
. 
Property 
( 
e 
=> 
e 
.  
SecondSurname  -
)- .
.. /
HasMaxLength/ ;
(; <
$num< >
)> ?
;? @
builder 
. 
Property 
( 
e 
=> 
e 
.  
Surname  '
)' (
.( )
HasMaxLength) 5
(5 6
$num6 8
)8 9
;9 :
builder 
. 
OwnsOne 
( 
address 
=>  "
address# *
.* +
AddressCurrent+ 9
,9 :"
ownedNavigationBuilder "
=># %"
ownedNavigationBuilder& <
.< =
ToJson= C
(C D
)D E
)E F
;F G
builder 
. 
OwnsOne 
( 
address 
=>  "
address# *
.* +
AddressOfBirth+ 9
,9 :"
ownedNavigationBuilder "
=># %"
ownedNavigationBuilder& <
.< =
ToJson= C
(C D
)D E
)E F
;F G
builder 
. 
HasKey 
( 
x 
=> 
x 
. 
Id  
)  !
;! "
builder 
. 
Property 
( 
e 
=> 
e 
.  
Id  "
)" #
.# $
HasConversion$ 1
(1 2
e 
=> 
e 
! 
. 
Value 
, 
value   
=>   
new   
Id   
(   
value   !
)  ! "
)  " #
;  # $
builder"" 
."" 
Property"" 
("" 
e"" 
=>"" 
e"" 
.""  
CreatedDate""  +
)""+ ,
."", -
HasConversion""- :
("": ;
CreatedDate## 
=>## 
CreatedDate## &
!##& '
.##' (
Value##( -
,##- .
value$$ 
=>$$ 
CreatedDate$$  
.$$  !
CreationDate$$! -
($$- .
)$$. /
)$$/ 0
;$$0 1
builder&& 
.&& 
Property&& 
(&& 
e&& 
=>&& 
e&& 
.&&  
LastModifiedDate&&  0
)&&0 1
.&&1 2
HasConversion&&2 ?
(&&? @
LastModifiedDate'' 
=>'' 
LastModifiedDate''  0
!''0 1
.''1 2
Value''2 7
,''7 8
value(( 
=>(( 
LastModifiedDate(( %
.((% &
CreationDate((& 2
(((2 3
)((3 4
)((4 5
;((5 6
builder** 
.** 
Property** 
(** 
e** 
=>** 
e** 
.**  
Availability**  ,
)**, -
.++ 
HasConversion++ 
(++ 
e,, 
=>,, 
e,, 
!,, 
.,, 
Value,, 
,,, 
value-- 
=>-- 
new-- 
Availability-- %
(--% &
value--& +
)--+ ,
)--, -
;--- .
builder// 
.// 
Property// 
(// 
e// 
=>// 
e// 
.//  
CreatedByUser//  -
)//- .
.//. /

IsRequired/// 9
(//9 :
false//: ?
)//? @
;//@ A
builder00 
.00 
Property00 
(00 
e00 
=>00 
e00 
.00  
LastModifiedByUser00  2
)002 3
.003 4

IsRequired004 >
(00> ?
false00? D
)00D E
;00E F
}22 
}33 …
fC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\DependencyInjection.cs
	namespace		 	
MSschool		
 
.		 
Infrastructure		 !
.		! "
EntityFramework		" 1
{

 
public 

static 
class 
DependencyInjection +
{ 
public 
static 
IServiceCollection (-
!AddInfraestructureEntityFramework) J
(J K
this 
IServiceCollection #
services$ ,
,, -
IConfiguration. <
configuration= J
)J K
{ 	
services 
. 
AddDbContext !
<! "
MsschoolContext" 1
>1 2
(2 3
options3 :
=>; =
options 
. 
UseSqlServer $
($ %
configuration !
.! "
GetConnectionString" 5
(5 6
$str6 H
)H I
,I J"
sqlServerOptionsAction *
=>+ -
{ "
sqlServerOptionsAction .
. 
MigrationsAssembly +
(+ ,
$str, P
)P Q
;Q R
} 
) 
) 
; 
services 
. 
	AddScoped 
< 
IAuditContex +
,+ ,
AuditContexService- ?
>? @
(@ A
)A B
;B C
services 
. 
	AddScoped 
< 
IUnitOfWork *
,* +
UnitOfWorkService, =
>= >
(> ?
)? @
;@ A
services 
. 
	AddScoped 
( 
typeof %
(% &
IAsyncRepository& 6
<6 7
>7 8
)8 9
,9 :
typeof; A
(A B!
RepositoryBaseServiceB W
<W X
>X Y
)Y Z
)Z [
;[ \
return 
services 
; 
} 	
} 
}   Ä=
nC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Persistence\MsschoolContext.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Persistence2 =
;= >
public 
partial 
class 
MsschoolContext $
:% &
	DbContext' 0
{ 
private 
readonly 
IAuditContex !
?! "
_auditContex# /
;/ 0
public 

MsschoolContext 
( 
) 
{ 
} 
public   

MsschoolContext   
(   
DbContextOptions   +
<  + ,
MsschoolContext  , ;
>  ; <
options  = D
,  D E
IAuditContex  F R
?  R S
auditContex  T _
)  _ `
:  a b
base  c g
(  g h
options  h o
)  o p
{!! 
_auditContex"" 
="" 
auditContex"" "
;""" #
}## 
public%% 

virtual%% 
DbSet%% 
<%% 
AcademicLevel%% &
>%%& '
AcademicLevels%%( 6
{%%7 8
get%%9 <
;%%< =
set%%> A
;%%A B
}%%C D
public'' 

virtual'' 
DbSet'' 
<'' 
AcademicProgramUser'' ,
>'', - 
AcademicProgramUsers''. B
{''C D
get''E H
;''H I
set''J M
;''M N
}''O P
public)) 

virtual)) 
DbSet)) 
<)) 
AcademicProgram)) (
>))( )
AcademicsPrograms))* ;
{))< =
get))> A
;))A B
set))C F
;))F G
}))H I
public++ 

virtual++ 
DbSet++ 
<++ 
Category++ !
>++! "

Categories++# -
{++. /
get++0 3
;++3 4
set++5 8
;++8 9
}++: ;
public-- 

virtual-- 
DbSet-- 
<-- 

CourseNote-- #
>--# $
CourseNotes--% 0
{--1 2
get--3 6
;--6 7
set--8 ;
;--; <
}--= >
public// 

virtual// 
DbSet// 
<// 
Institution// $
>//$ %
Institutions//& 2
{//3 4
get//5 8
;//8 9
set//: =
;//= >
}//? @
public11 

virtual11 
DbSet11 
<11 
Schedule11 !
>11! "
	Schedules11# ,
{11- .
get11/ 2
;112 3
set114 7
;117 8
}119 :
public33 

virtual33 
DbSet33 
<33 
Subject33  
>33  !
Subjects33" *
{33+ ,
get33- 0
;330 1
set332 5
;335 6
}337 8
public55 

virtual55 
DbSet55 
<55 
SubjectValue55 %
>55% &
SubjectValues55' 4
{555 6
get557 :
;55: ;
set55< ?
;55? @
}55A B
public77 

virtual77 
DbSet77 
<77 '
SubjectOfTheAcademicProgram77 4
>774 5$
SubjectsAcademicPrograms776 N
{77O P
get77Q T
;77T U
set77V Y
;77Y Z
}77[ \
public99 

virtual99 
DbSet99 
<99 
User99 
>99 
Users99 $
{99% &
get99' *
;99* +
set99, /
;99/ 0
}991 2
public;; 

virtual;; 
DbSet;; 
<;; 
UserAssignment;; '
>;;' (
UserAssignments;;) 8
{;;9 :
get;;; >
;;;> ?
set;;@ C
;;;C D
};;E F
public== 

virtual== 
DbSet== 
<== 
UserCategory== %
>==% &
UserCategories==' 5
{==6 7
get==8 ;
;==; <
set=== @
;==@ A
}==B C
public?? 

virtual?? 
DbSet?? 
<?? 
Colombia?? !
>??! "
Colombia??# +
{??, -
get??. 1
;??1 2
set??3 6
;??6 7
}??8 9
publicAA 

overrideAA 
TaskAA 
<AA 
intAA 
>AA 
SaveChangesAsyncAA .
(AA. /
CancellationTokenAA/ @
cancellationTokenAAA R
=AAS T
defaultAAU \
)AA\ ]
{BB 
varCC 
userCC 
=CC 
_auditContexCC 
?CC  
.CC  !
GetUserFromRecordCC! 2
(CC2 3
)CC3 4
!CC4 5
;CC5 6
foreachDD 
(DD 
varDD 
entryDD 
inDD 
ChangeTrackerDD +
.DD+ ,
EntriesDD, 3
<DD3 4
AuditDD4 9
>DD9 :
(DD: ;
)DD; <
)DD< =
{EE 	
switchFF 
(FF 
entryFF 
.FF 
StateFF 
)FF  
{GG 
caseHH 
EntityStateHH  
.HH  !
AddedHH! &
:HH& '
entryII 
.II 
EntityII  
.II  !
SetCreatedByUserII! 1
(II1 2
userII2 6
)II6 7
;II7 8
entryJJ 
.JJ 
EntityJJ  
.JJ  !
SetAvailabilityJJ! 0
(JJ0 1
newJJ1 4
AvailabilityJJ5 A
(JJA B
trueJJB F
)JJF G
)JJG H
;JJH I
entryKK 
.KK 
EntityKK  
.KK  !
SetCreatedDateKK! /
(KK/ 0
CreatedDateKK0 ;
.KK; <
CreationDateKK< H
(KKH I
)KKI J
)KKJ K
;KKK L
breakLL 
;LL 
caseNN 
EntityStateNN  
.NN  !
ModifiedNN! )
:NN) *
entryOO 
.OO 
EntityOO  
.OO  !
SetLastModifiedDateOO! 4
(OO4 5
LastModifiedDateOO5 E
.OOE F
CreationDateOOF R
(OOR S
)OOS T
)OOT U
;OOU V
entryPP 
.PP 
EntityPP  
.PP  !!
SetLastModifiedByUserPP! 6
(PP6 7
userPP7 ;
)PP; <
;PP< =
breakQQ 
;QQ 
}RR 
}SS 	
returnUU 
baseUU 
.UU 
SaveChangesAsyncUU $
(UU$ %
cancellationTokenUU% 6
)UU6 7
;UU7 8
}VV 
	protectedXX 
overrideXX 
voidXX 
OnModelCreatingXX +
(XX+ ,
ModelBuilderXX, 8
modelBuilderXX9 E
)XXE F
{YY 
modelBuilderZZ 
.[[ +
ApplyConfigurationsFromAssembly[[ ,
([[, -
Assembly[[- 5
.\\  
GetExecutingAssembly\\ !
(\\! "
)\\" #
)\\# $
;\\$ %
modelBuilder^^ 
.^^ 
Entity^^ 
<^^ 
Category^^ $
>^^$ %
(^^% &
)^^& '
.__ 
HasData__ 
(__ 
MsschoolContextSeed__ (
.`` 
PreloadedCategories``  
(``  !
)``! "
)``" #
;``# $"
OnModelCreatingPartialbb 
(bb 
modelBuilderbb +
)bb+ ,
;bb, -
}cc 
partialee 
voidee "
OnModelCreatingPartialee '
(ee' (
ModelBuilderee( 4
modelBuilderee5 A
)eeA B
;eeB C
}ff Ï

rC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Persistence\MsschoolContextSeed.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Persistence2 =
;= >
internal 
static	 
class 
MsschoolContextSeed )
{ 
internal 
static 
IEnumerable 
<  
Category  (
>( )
PreloadedCategories* =
(= >
)> ?
{		 
return

 
new

 
Category

 
[

 
]

 
{ 	
new 
Category 
( 
new 
Id 
(  
Guid  $
.$ %
NewGuid% ,
(, -
)- .
). /
,/ 0
$str1 :
,: ;
$str< |
)| }
,} ~
new 
Category 
( 
new 
Id 
(  
Guid  $
.$ %
NewGuid% ,
(, -
)- .
). /
,/ 0
$str1 =
,= >
$str? v
)v w
,w x
} 	
;	 

} 
} Ï

rC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Repositories\AuditContexService.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Repositories2 >
;> ?
public 
class 
AuditContexService 
:  !
IAuditContex" .
{ 
private 
readonly  
IHttpContextAccessor ) 
_httpContextAccessor* >
;> ?
public

 

AuditContexService

 
(

  
IHttpContextAccessor

 2
httpContextAccessor

3 F
)

F G
{  
_httpContextAccessor 
= 
httpContextAccessor 2
;2 3
} 
public 

string 
? 
GetUserFromRecord $
($ %
)% &
{ 
string 
? 
name 
=  
_httpContextAccessor +
?+ ,
., -
HttpContext- 8
?8 9
.9 :
User: >
?> ?
.? @
Identity@ H
?H I
.I J
NameJ N
;N O
return 
name 
; 
} 
} ‚|
uC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Repositories\RepositoryBaseService.cs
	namespace

 	
MSschool


 
.

 
Infrastructure

 !
.

! "
EntityFramework

" 1
.

1 2
Repositories

2 >
;

> ?
internal 
sealed	 
class !
RepositoryBaseService +
<+ ,
T, -
>- .
:/ 0
IAsyncRepository1 A
<A B
TB C
>C D
whereE J
TK L
:M N
AuditO T
{ 
private 
readonly 
MsschoolContext $
_context% -
;- .
public 
!
RepositoryBaseService  
(  !
MsschoolContext! 0
context1 8
)8 9
=>: <
_context= E
=F G
contextH O
;O P
public 

void 
Add 
( 
T 
entity 
) 
{ 
_context 
. 
Set 
< 
T 
> 
( 
) 
. 
Add 
( 
entity 
) 
; 
} 
public 

async 
Task 
AddAsync 
( 
T  
entity! '
)' (
{ 
await 
_context 
. 
Set 
< 
T 
> 
( 
) 
. 
AddAsync 
( 
entity 
) 
; 
} 
public   

void   
Delete   
(   
T   
entity   
)    
{!! 
_context"" 
.## 
Set## 
<## 
T## 
>## 
(## 
)## 
.$$ 
Remove$$ 
($$ 
entity$$ 
)$$ 
;$$ 
}%% 
public'' 

async'' 
Task'' 
DeleteAsync'' !
(''! "
T''" #
entity''$ *
)''* +
{(( 
_context)) 
.** 
Set** 
<** 
T** 
>** 
(** 
)** 
.++ 
Remove++ 
(++ 
entity++ 
)++ 
;++ 
await-- 
Task-- 
.-- 
CompletedTask--  
;--  !
}.. 
public00 

async00 
Task00 
<00 
bool00 
>00 
Exitst00 "
(00" #

Expression00# -
<00- .
Func00. 2
<002 3
T003 4
,004 5
bool006 :
>00: ;
>00; <
	predicate00= F
)00F G
{11 
var22 
result22 
=22 
await22 
_context22 #
.22# $
Set22$ '
<22' (
T22( )
>22) *
(22* +
)22+ ,
.33 
AnyAsync33 
(33 
	predicate33 
)33  
;33  !
return55 
result55 
;55 
}66 
public88 

async88 
Task88 
<88 
IReadOnlyList88 #
<88# $
T88$ %
>88% &
>88& '
GetAllAsync88( 3
(883 4
)884 5
{99 
return:: 
await:: 
_context:: 
.:: 
Set:: !
<::! "
T::" #
>::# $
(::$ %
)::% &
.;; 
ToListAsync;; 
(;; 
);; 
;;; 
}<< 
public>> 

async>> 
Task>> 
<>> 
IReadOnlyList>> #
<>># $
T>>$ %
>>>% &
>>>& ')
GetAllIgnoreQueryFiltersAsync>>( E
(>>E F
)>>F G
{?? 
return@@ 
await@@ 
_context@@ 
.@@ 
Set@@ !
<@@! "
T@@" #
>@@# $
(@@$ %
)@@% &
.AA 
IgnoreQueryFiltersAA 
(AA  
)AA  !
.BB 
ToListAsyncBB 
(BB 
)BB 
;BB 
}CC 
publicEE 

asyncEE 
TaskEE 
<EE 
IReadOnlyListEE #
<EE# $
TEE$ %
>EE% &
>EE& '
GetAsyncEE( 0
(EE0 1

ExpressionEE1 ;
<EE; <
FuncEE< @
<EE@ A
TEEA B
,EEB C
boolEED H
>EEH I
>EEI J
?EEJ K
	predicateEEL U
)EEU V
{FF 
returnGG 
awaitGG 
_contextGG 
.HH 
SetHH 
<HH 
THH 
>HH 
(HH 
)HH 
.II 
WhereII 
(II 
	predicateII 
!II 
)II 
.JJ 
ToListAsyncJJ 
(JJ 
)JJ 
;JJ 
}KK 
publicMM 

asyncMM 
TaskMM 
<MM 
IReadOnlyListMM #
<MM# $
TMM$ %
>MM% &
>MM& '
GetAsyncMM( 0
(MM0 1

ExpressionNN 
<NN 
FuncNN 
<NN 
TNN 
,NN 
boolNN 
>NN  
>NN  !
?NN! "
	predicateNN# ,
=NN- .
nullNN/ 3
,NN3 4
FuncOO 
<OO 

IQueryableOO 
<OO 
TOO 
>OO 
,OO 
IOrderedQueryableOO -
<OO- .
TOO. /
>OO/ 0
>OO0 1
?OO1 2
orderByOO3 :
=OO; <
nullOO= A
,OOA B
stringPP 
?PP 
includeStringPP 
=PP 
nullPP  $
,PP$ %
boolQQ 
?QQ 
disableTrackingQQ 
=QQ 
trueQQ  $
)QQ$ %
{RR 

IQueryableSS 
<SS 
TSS 
>SS 
querySS 
=SS 
_contextSS &
.SS& '
SetSS' *
<SS* +
TSS+ ,
>SS, -
(SS- .
)SS. /
;SS/ 0
ifUU 

(UU 
(UU 
boolUU 
)UU 
disableTrackingUU !
!UU! "
)UU" #
queryVV 
=VV 
queryVV 
.VV 
AsNoTrackingVV &
(VV& '
)VV' (
;VV( )
ifXX 

(XX 
!XX 
stringXX 
.XX 
IsNullOrWhiteSpaceXX &
(XX& '
includeStringXX' 4
)XX4 5
)XX5 6
queryYY 
=YY 
queryYY 
.YY 
IncludeYY !
(YY! "
includeStringYY" /
)YY/ 0
;YY0 1
if[[ 

([[ 
	predicate[[ 
!=[[ 
null[[ 
)[[ 
query\\ 
=\\ 
query\\ 
.\\ 
Where\\ 
(\\  
	predicate\\  )
)\\) *
;\\* +
if^^ 

(^^ 
orderBy^^ 
!=^^ 
null^^ 
)^^ 
return__ 
await__ 
orderBy__  
(__  !
query__! &
)__& '
.__' (
ToListAsync__( 3
(__3 4
)__4 5
;__5 6
returnaa 
awaitaa 
queryaa 
.aa 
ToListAsyncaa &
(aa& '
)aa' (
;aa( )
}bb 
publicdd 

asyncdd 
Taskdd 
<dd 
IReadOnlyListdd #
<dd# $
Tdd$ %
>dd% &
>dd& '
GetAsyncdd( 0
(dd0 1

Expressionee 
<ee 
Funcee 
<ee 
Tee 
,ee 
boolee 
>ee  
>ee  !
?ee! "
	predicateee# ,
=ee- .
nullee/ 3
,ee3 4
Funcff 
<ff 

IQueryableff 
<ff 
Tff 
>ff 
,ff 
IOrderedQueryableff -
<ff- .
Tff. /
>ff/ 0
>ff0 1
?ff1 2
orderByff3 :
=ff; <
nullff= A
,ffA B
Listgg 
<gg 

Expressiongg 
<gg 
Funcgg 
<gg 
Tgg 
,gg 
objectgg  &
>gg& '
>gg' (
>gg( )
?gg) *
includesgg+ 3
=gg4 5
nullgg6 :
,gg: ;
boolhh 
?hh 
disableTrackinghh 
=hh 
truehh  $
)hh$ %
{ii 

IQueryablejj 
<jj 
Tjj 
>jj 
queryjj 
=jj 
_contextjj &
.jj& '
Setjj' *
<jj* +
Tjj+ ,
>jj, -
(jj- .
)jj. /
;jj/ 0
ifll 

(ll 
(ll 
boolll 
)ll 
disableTrackingll !
!ll! "
)ll" #
querymm 
=mm 
querymm 
.mm 
AsNoTrackingmm &
(mm& '
)mm' (
;mm( )
ifoo 

(oo 
includesoo 
!=oo 
nulloo 
)oo 
querypp 
=pp 
includespp 
.pp 
	Aggregatepp &
(pp& '
querypp' ,
,pp, -
(pp. /
currentpp/ 6
,pp6 7
includepp8 ?
)pp? @
=>ppA C
currentppD K
.ppK L
IncludeppL S
(ppS T
includeppT [
)pp[ \
)pp\ ]
;pp] ^
ifrr 

(rr 
	predicaterr 
!=rr 
nullrr 
)rr 
queryss 
=ss 
queryss 
.ss 
Wheress 
(ss  
	predicatess  )
)ss) *
;ss* +
ifuu 

(uu 
orderByuu 
!=uu 
nulluu 
)uu 
returnvv 
awaitvv 
orderByvv  
(vv  !
queryvv! &
)vv& '
.vv' (
ToListAsyncvv( 3
(vv3 4
)vv4 5
;vv5 6
returnxx 
awaitxx 
queryxx 
.xx 
ToListAsyncxx &
(xx& '
)xx' (
;xx( )
}yy 
public{{ 

async{{ 
Task{{ 
<{{ 
T{{ 
>{{ 
GetByIdAsync{{ %
({{% &
Guid{{& *
id{{+ -
){{- .
{|| 
var}} 
result}} 
=}} 
await}} 
_context}} #
.~~ 
Set~~ 
<~~ 
T~~ 
>~~ 
(~~ 
)~~ 
. 
AsNoTracking 
( 
) 
.
€€  
IgnoreQueryFilters
€€ 
(
€€  
)
€€  !
.
 !
FirstOrDefaultAsync
  
(
  !
firsth
‚‚ 
=>
‚‚ 
firsth
‚‚ 
.
‚‚ 
Id
‚‚ 
!
‚‚  
.
‚‚  !
Equals
‚‚! '
(
‚‚' (
new
‚‚( +
Id
‚‚, .
(
‚‚. /
id
‚‚/ 1
)
‚‚1 2
)
‚‚2 3
)
‚‚3 4
;
‚‚4 5
return
„„ 
result
„„ 
!
„„ 
;
„„ 
}
…… 
public
‡‡ 

async
‡‡ 
Task
‡‡ 
<
‡‡ 
int
‡‡ 
>
‡‡ 

CountAsync
‡‡ %
(
‡‡% &
ISpecification
‡‡& 4
<
‡‡4 5
T
‡‡5 6
>
‡‡6 7
spec
‡‡8 <
)
‡‡< =
{
ˆˆ 
return
‰‰ 
await
‰‰  
ApplySpecification
‰‰ '
(
‰‰' (
spec
‰‰( ,
)
‰‰, -
.
‰‰- .

CountAsync
‰‰. 8
(
‰‰8 9
)
‰‰9 :
;
‰‰: ;
}
ŠŠ 
public
ŒŒ 

async
ŒŒ 
Task
ŒŒ 
<
ŒŒ 
T
ŒŒ 
>
ŒŒ 
GetIdWithSpec
ŒŒ &
(
ŒŒ& '
ISpecification
ŒŒ' 5
<
ŒŒ5 6
T
ŒŒ6 7
>
ŒŒ7 8
spec
ŒŒ9 =
)
ŒŒ= >
{
 
var
ŽŽ !
firstOrDefaultAsync
ŽŽ 
=
ŽŽ  !
await
ŽŽ" ' 
ApplySpecification
ŽŽ( :
(
ŽŽ: ;
spec
ŽŽ; ?
)
ŽŽ? @
.
 !
FirstOrDefaultAsync
  
(
  !
)
! "
;
" #
return
‘‘ !
firstOrDefaultAsync
‘‘ "
!
‘‘" #
;
‘‘# $
}
’’ 
public
”” 

async
”” 
Task
”” 
<
”” 
IReadOnlyList
”” #
<
””# $
T
””$ %
>
””% &
>
””& '
GetAllWithSpec
””( 6
(
””6 7
ISpecification
””7 E
<
””E F
T
””F G
>
””G H
spec
””I M
)
””M N
{
•• 
var
–– 
result
–– 
=
–– 
await
––  
ApplySpecification
–– -
(
––- .
spec
––. 2
)
––2 3
.
––3 4
ToListAsync
––4 ?
(
––? @
)
––@ A
;
––A B
return
—— 
result
—— 
!
—— 
;
—— 
}
˜˜ 
public
šš 

void
šš 
Update
šš 
(
šš 
T
šš 
entity
šš 
)
šš  
{
›› 
_context
œœ 
.
œœ 
Set
œœ 
<
œœ 
T
œœ 
>
œœ 
(
œœ 
)
œœ 
.
 
Attach
 
(
 
entity
 
)
 
;
 
_context
ŸŸ 
.
ŸŸ 
Entry
ŸŸ 
(
ŸŸ 
entity
ŸŸ 
)
ŸŸ 
.
   
State
   
=
   
EntityState
    
.
    !
Modified
  ! )
;
  ) *
}
¡¡ 
public
££ 

async
££ 
Task
££ 
UpdateAsync
££ !
(
££! "
T
££" #
entity
££$ *
)
££* +
{
¤¤ 
_context
¥¥ 
.
¥¥ 
Set
¥¥ 
<
¥¥ 
T
¥¥ 
>
¥¥ 
(
¥¥ 
)
¥¥ 
.
¥¥ 
Update
¥¥  
(
¥¥  !
entity
¥¥! '
)
¥¥' (
;
¥¥( )
_context
¦¦ 
.
¦¦ 
Entry
¦¦ 
(
¦¦ 
entity
¦¦ 
)
¦¦ 
.
¦¦ 
State
¦¦ $
=
¦¦% &
EntityState
¦¦' 2
.
¦¦2 3
Modified
¦¦3 ;
;
¦¦; <
await
§§ 
Task
§§ 
.
§§ 
CompletedTask
§§  
;
§§  !
}
¨¨ 
private
ªª 

IQueryable
ªª 
<
ªª 
T
ªª 
>
ªª  
ApplySpecification
ªª ,
(
ªª, -
ISpecification
ªª- ;
<
ªª; <
T
ªª< =
>
ªª= >
spec
ªª? C
)
ªªC D
{
«« 
return
¬¬ $
SpecificationEvaluator
¬¬ %
<
¬¬% &
T
¬¬& '
>
¬¬' (
.
­­ 
GetQuery
­­ 
(
­­ 
_context
­­ 
.
­­ 
Set
­­ "
<
­­" #
T
­­# $
>
­­$ %
(
­­% &
)
­­& '
.
­­' (
AsQueryable
­­( 3
(
­­3 4
)
­­4 5
,
­­5 6
spec
­­7 ;
)
­­; <
;
­­< =
}
®® 
}¯¯ ñ
qC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Repositories\UnitOfWorkService.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Repositories2 >
;> ?
internal 
sealed	 
class 
UnitOfWorkService '
:( )
IUnitOfWork* 5
{		 
private

 
	Hashtable

 
?

 
_repositories

 $
;

$ %
public 

UnitOfWorkService 
( 
MsschoolContext ,
context- 4
)4 5
=>6 8
MsschoolContext9 H
=I J
contextK R
;R S
public 

MsschoolContext 
MsschoolContext *
{+ ,
get- 0
;0 1
}2 3
public 

async 
	ValueTask 
< 
int 
> 
SaveChangesAsync  0
(0 1
)1 2
{ 
return 
await 
MsschoolContext $
.$ %
SaveChangesAsync% 5
(5 6
)6 7
;7 8
} 
public 

void 
Dispose 
( 
) 
{ 
MsschoolContext 
. 
Dispose 
(  
)  !
;! "
} 
public 

IAsyncRepository 
< 
TEntity #
># $

Repository% /
</ 0
TEntity0 7
>7 8
(8 9
)9 :
where; @
TEntityA H
:I J
classK P
{ 
_repositories 
??= 
new 
	Hashtable '
(' (
)( )
;) *
var 
type 
= 
typeof 
( 
TEntity !
)! "
." #
Name# '
;' (
if 

( 
! 
_repositories 
. 
ContainsKey &
(& '
type' +
)+ ,
), -
{   	
Type!! 
reporitoryType!! 
=!!  !
typeof!!" (
(!!( )!
RepositoryBaseService!!) >
<!!> ?
>!!? @
)!!@ A
;!!A B
var## 
repositoryInstance## "
=### $
	Activator##% .
.$$ 
CreateInstance$$ 
($$  
reporitoryType$$  .
.$$. /
MakeGenericType$$/ >
($$> ?
typeof$$? E
($$E F
TEntity$$F M
)$$M N
)$$N O
,$$O P
MsschoolContext$$Q `
)$$` a
;$$a b
_repositories&& 
.&& 
Add&& 
(&& 
type&& "
,&&" #
repositoryInstance&&$ 6
)&&6 7
;&&7 8
}'' 	
return)) 
()) 
IAsyncRepository))  
<))  !
TEntity))! (
>))( )
)))) *
_repositories))* 7
[))7 8
type))8 <
]))< =
!))= >
;))> ?
}** 
}++ ä
wC:\Users\Jhonatan\source\repos\msschool\MSschool.Infrastructure.EntityFramework\Specification\SpecificationEvaluator.cs
	namespace 	
MSschool
 
. 
Infrastructure !
.! "
EntityFramework" 1
.1 2
Specification2 ?
;? @
public 
sealed 
class "
SpecificationEvaluator *
<* +
T+ ,
>, -
where. 3
T4 5
:6 7
Audit8 =
{ 
public		 

static		 

IQueryable		 
<		 
T		 
>		 
GetQuery		  (
(		( )

IQueryable

 
<

 
T

 
>

 

inputQuery

  
,

  !
ISpecification 
< 
T 
> 
spec 
) 
{ 
if 

( 
spec 
. 
OrderBy 
is 
not 
null  $
)$ %
{ 	

inputQuery 
= 

inputQuery #
.# $
OrderBy$ +
(+ ,
spec, 0
.0 1
OrderBy1 8
)8 9
;9 :
} 	
if 

( 
spec 
. 
OrderByDesc 
is 
not  #
null$ (
)( )
{ 	

inputQuery 
= 

inputQuery #
.# $
OrderBy$ +
(+ ,
spec, 0
.0 1
OrderByDesc1 <
)< =
;= >
} 	
if 

( 
spec 
. 
IgnoreQueryFilters #
)# $
{ 	

inputQuery 
= 

inputQuery #
.# $
IgnoreQueryFilters$ 6
(6 7
)7 8
;8 9
} 	
if 

( 
spec 
. 
Criteria 
is 
not  
null! %
)% &
{ 	

inputQuery 
= 

inputQuery #
.# $
Where$ )
() *
spec* .
.. /
Criteria/ 7
)7 8
;8 9
} 	
if!! 

(!! 
spec!! 
.!! 
IsPagingEnable!! 
)!!  
{"" 	

inputQuery## 
=## 

inputQuery## #
.### $
Skip##$ (
(##( )
spec##) -
.##- .
Skip##. 2
)##2 3
.##3 4
Take##4 8
(##8 9
spec##9 =
.##= >
Take##> B
)##B C
;##C D
}$$ 	

inputQuery&& 
=&& 
spec&& 
.&& 
Includes&& "
.&&" #
	Aggregate&&# ,
(&&, -

inputQuery'' 
,'' 
((( 
current(( 
,(( 
include(( 
)(( 
=>(( !
current)) 
.)) 
Include)) 
()) 
include)) #
)))# $
)))$ %
;))% &
return++ 

inputQuery++ 
;++ 
},, 
}-- 